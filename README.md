# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Общая архитектура

Приложение построено с использованием событийно-ориентированной архитектуры и частично придерживается принципов MVC (Model-View-Controller), но с некоторыми особенностями.

Model — объекты данных и бизнес-логика (ProductsData, BasketData, AppState).

View — UI-компоненты, отвечающие за визуальное отображение (Card, Basket, Page, Modal, формы).

Controller — связующее звено между Model и View реализовано через событие EventEmitter.

## Паттерны проектирования

Компонент (Component)

Все визуальные элементы наследуются от базового класса Component.
Компоненты имеют методы рендера, обновления данных и обработку событий.

## Управление состоянием (State Management)

Классы ProductsData, BasketData, AppState — это хранилища состояния.
Они управляют внутренним состоянием и эмитят события при изменении, что триггерит обновление UI.

## Формы (Form и производные)

Абстракция для работы с формами (DataPayment, DataContacts).
Управление валидацией, изменением полей и отправкой событий — это часть паттерна Presentation Model.
Отделение логики формы от DOM.

## Модальное окно (Modal)

Универсальный компонент для показа динамического контента.
Управляется через методы show/hide и реакцию на клики.
Этот компонент можно рассматривать как Controller для модального UI.

## Flow данных и событий

Данные загружаются через API → сохраняются в ProductsData.
Изменения в данных вызывают событие, на которое подписан UI (CardsContainer, Basket и др.).
Пользовательские действия (клики, формы) вызывают события через EventEmitter.
На события реагируют слушатели, обновляя данные и UI.

## Краткий обзор структуры:

API: Api + AppApi для общения с сервером.

Данные:
ProductsData — хранит каталог товаров.
BasketData — состояние корзины.
AppState — состояние заказа (оплата и контакты).

UI-компоненты:
Page — общий контейнер страницы и хедер.
CardsContainer — рендерит список карточек.
Card — отображает отдельный товар в разных режимах.
Basket — отображение корзины.
Modal — универсальное модальное окно.
DataPayment, DataContacts — формы оплаты и контактов.
Success — экран успешного оформления заказа.